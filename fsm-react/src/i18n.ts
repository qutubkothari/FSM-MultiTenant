import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

const resources = {
  en: {
    translation: {
      // Auth & Login
      "login": "Login",
      "phone": "Phone",
      "password": "Password",
      "phoneNumber": "Phone Number",
      "enterPassword": "Enter Password",
      "enterPhone": "Enter Phone Number",
      "invalidCredentials": "Invalid credentials",
      "fieldSalesManagement": "Field Sales Management System",
      "professionalFieldSales": "Professional Field Sales Management",
      "enterValidPhone": "Please enter a valid 10-digit phone number",
      "enterYourName": "Please enter your name",
      "register": "Register",
      "dontHaveAccount": "Don't have an account?",
      "passwordMinLength": "Password must be at least 6 characters",
      "phoneAlreadyRegistered": "This phone number is already registered",
      "registrationSuccessful": "Registration successful! You can now login.",
      "registrationFailed": "Registration failed. Please try again.",
      "selectRole": "Select Role",
      "enterName": "Enter Name",
      
      // Common
      "submit": "Submit",
      "cancel": "Cancel",
      "ok": "OK",
      "save": "Save",
      "delete": "Delete",
      "confirmDelete": "Are you sure you want to delete this?",
      "confirmDeleteVisit": "Are you sure you want to delete this visit?",
      "confirmDeleteProduct": "Are you sure you want to delete this product?",
      "confirmDeleteSalesman": "Are you sure you want to delete this salesman?",
      "confirmDeleteCustomer": "Are you sure you want to delete this customer?",
      "confirmDeleteTarget": "Are you sure you want to delete this target?",
      "confirmDeletePlant": "Are you sure you want to delete this company?",
      "deleteSuccess": "Deleted successfully",
      "deleteFailed": "Failed to delete",
      "edit": "Edit",
      "view": "View",
      "close": "Close",
      "search": "Search",
      "filter": "Filter",
      "export": "Export",
      "refresh": "Refresh",
      "loadMore": "Load More",
      "loading": "Loading...",
      "noData": "No data available",
      "success": "Success",
      "error": "Error",
      "yes": "Yes",
      "no": "No",
      "actions": "Actions",
      "date": "Date",
      "completed": "Completed",
      "pending": "Pending",
      "convertGpsToAddresses": "Convert GPS to Addresses",
      "telephone": "Telephone",
      "personal": "Personal",
      "all": "All",
      "today": "Today",
      "yesterday": "Yesterday",
      "thisWeek": "This Week",
      "thisMonth": "This Month",
      "lastMonth": "Last Month",
      "custom": "Custom",
      "adminPortal": "Admin Portal",
      "settings": "Settings",
      "enableArabicTranslation": "Enable Arabic Translation",
      "allowUsersToSwitchLanguage": "Allow users to switch between English and Arabic. Disable this for English-only companies.",
      
      // Dashboard
      "dashboard": "Dashboard",
      "welcomeBack": "Welcome Back",
      "totalVisitsCount": "Total Visits",
      "orderValue": "Order Value",
      "visitsTab": "Visits",
      "orders": "Orders",
      "performance": "Performance",
      "target": "Target",
      "achieved": "Achieved",
      "overallPerformance": "Overall Performance",
      "todaysVisits": "Today's Visits",
      "quickTips": "Quick Tips",
      "useNewVisitTab": "Use \"New Visit\" tab to create visits",
      "gpsAutoCaptured": "GPS location is automatically captured",
      "checkHistory": "Check \"History\" for past visits",
      "name": "Name",
      "code": "Code",
      "price": "Price",
      "stock": "Stock",
      "role": "Role",
      "admin": "Admin",
      "joined": "Joined",
      "active": "Active",
      "inactive": "Inactive",
      "contactPerson": "Contact Person",
      "totalOrders": "Total Orders",
      "firstVisit": "First Visit",
      "salesPerformanceDashboard": "Sales Performance Dashboard",
      "avgPerSalesman": "Avg per Salesman",
      "individualSalesmanPerformance": "Individual Salesman Performance",
      "hitRatio": "Hit Ratio",
      "overall": "Overall",
      "belowTarget": "Below Target",
      "excellent": "Excellent",
      "good": "Good",
      "avg": "avg",
      "loadingData": "Loading dashboard data...",
      "dashboardReady": "Your dashboard is ready! Add salesmen and create visits to see performance metrics here.",
      "addProduct": "Add Product",
      "editProduct": "Edit Product",
      "addCustomer": "Add Customer",
      "editCustomer": "Edit Customer",
      "addSalesman": "Add Salesman",
      "editSalesman": "Edit Salesman",
      "month": "Month",
      "year": "Year",
      "setTarget": "Set Target",
      "editTarget": "Edit Target",
      "visitsPerMonth": "Visits per Month",
      "visitsPerDay": "Visits per Day",
      "ordersPerMonth": "Orders per Month",
      "orderValuePerMonth": "Order Value per Month",
      "newVisitsPerMonth": "New Visits per Month",
      "repeatVisitsPerMonth": "Repeat Visits per Month",
      "selectSalesman": "Select Salesman",
      "pleaseSelectSalesman": "Please select a salesman",
      "targetsSaved": "Targets saved successfully",
      "salesTargetsManagement": "Sales Targets Management",
      "monthlyTarget": "Monthly Target",
      "targetAchieved": "Target Achieved",
      "remaining": "Remaining",
      "areYouSure": "Are you sure you want to delete this target?",
      "visitsTarget": "Visits Target",
      "ordersTarget": "Orders Target",
      "dailyTarget": "Daily Target",
      "productTargets": "Product Targets",
      "targetQuantity": "Target Quantity",
      "addProductTarget": "Add Product Target",
      "removeProduct": "Remove Product",
      "targetNotFound": "Targets table not found in database",
      "runMigration": "Please run the SQL migration to create the targets table",
      "reportsManagement": "Reports Management",
      "generateReport": "Generate Report",
      "dateRange": "Date Range",
      "exportReport": "Export Report",
      "totalVisits": "Total Visits",
      "enquiries": "Enquiries",
      "followups": "Follow-ups",
      "avgDay": "Avg/Day",
      "salesmanPerformance": "Salesman Performance",
      "dailyAvg": "Daily Avg",
      "topCustomers": "Top Customers",
      "visitCount": "Visit Count",
      "topProducts": "Top Products Discussed",
      "discussionCount": "Discussion Count",
      "percentage": "Percentage",
      "productUpdated": "Product updated successfully",
      "productCreated": "Product created successfully",
      "customerUpdated": "Customer updated successfully",
      "customerCreated": "Customer created successfully",
      "salesmanUpdated": "Salesman updated successfully",
      "salesmanCreated": "Salesman created successfully",
      "deleteConfirm": "Are you sure you want to delete this?",
      "week": "Week",
      "allTime": "All Time",
      
      // Salesman
      "salesman": "Salesman",
      "salesmen": "Salesmen",
      "salesmenManagement": "Salesmen Management",
      "salesmanName": "Salesman Name",
      "salesmanDetails": "Salesman Details",
      
      // Customer
      "customer": "Customer",
      "customers": "Customers",
      "customersManagement": "Customers Management",
      "customerName": "Customer Name",
      "email": "Email",
      "address": "Address",
      "customerTotalVisits": "Total Visits",
      "lastVisit": "Last Visit",
      "lastMeeting": "Last Meeting",
      "status": "Status",
      
      // Company
      "plants": "Company",
      "plantsManagement": "Company Management",
      "plantCode": "Company Code",
      "plantName": "Company Name",
      "addPlant": "Add Company",
      "editPlant": "Edit Company",
      "addNewPlant": "Add New Company",
      
      // Visit
      "visit": "Visit",
      "visits": "Visits",
      "newVisit": "New Visit",
      "addVisit": "Add Visit",
      "visitDetails": "Visit Details",
      "visitType": "Visit Type",
      "new": "New",
      "followup": "Follow-up",
      "delivery": "Delivery",
      "personalVisit": "Personal Visit",
      "telephoneVisit": "Telephone Call",
      "meetingType": "Meeting Type",
      "demo": "Demo",
      "order": "Order",
      "generalVisit": "General Visit",
      "complaint": "Complaint",
      "followUp": "Follow Up",
      "productsDiscussed": "Products Discussed",
      "nextAction": "Next Action",
      "nextActionDate": "Next Action Date",
      "potential": "Potential",
      "high": "High",
      "medium": "Medium",
      "low": "Low",
      "competitor": "Competitor",
      "competitorName": "Competitor Name",
      "canBeSwitched": "Can Be Switched",
      "remarks": "Remarks",
      "location": "Location",
      "timeIn": "Time In",
      "timeOut": "Time Out",
      "capturePhoto": "Capture Photo",
      "uploadPhoto": "Upload Photo",
      "photoRequired": "Photo is required",
      "visitImage": "Visit Image",
      "imageVerification": "Image Verification",
      "verifying": "Verifying image...",
      "verificationPassed": "Verification passed",
      "verificationFailed": "Verification failed",
      "duplicateDetected": "Duplicate or reused image detected",
      "lowResolution": "Image resolution too low",
      "suspiciousImage": "Suspicious image detected",
      
      // Products
      "product": "Product",
      "products": "Products",
      "productsManagement": "Products Management",
      "productName": "Product Name",
      "productCode": "Product Code",
      "category": "Category",
      "description": "Description",
      
      // Reports
      "reports": "Reports",
      "visitReport": "Visit Report",
      "performanceReport": "Performance Report",
      "salesReport": "Sales Report",
      "startDate": "Start Date",
      "endDate": "End Date",
      
      // Targets
      "targets": "Targets",
      
      // Form helpers
      "selectAllThatApply": "(Select all that apply)",
      "selectAllDiscussed": "(Select all discussed)",
      "remarksNotes": "Remarks / Notes",
      "remarksPlaceholder": "Any additional notes about this visit...",
      "canBeSwitchedQuestion": "Can be switched?",
      "photoOfLocation": "Photo of Location/Office",
      
      // Offline
      "offline": "Offline",
      "offlineMode": "Offline Mode",
      "syncPending": "Sync Pending",
      "syncNow": "Sync Now",
      "syncing": "Syncing...",
      "syncComplete": "Sync Complete",
      
      // Messages
      "visitAddedSuccess": "Visit added successfully",
      "visitUpdateSuccess": "Visit updated successfully",
      "visitDeleteSuccess": "Visit deleted successfully",
      "customerAddedSuccess": "Customer added successfully",
      "errorAddingVisit": "Error adding visit",
      "errorLoadingData": "Error loading data",
      "pleaseSelectCustomer": "Please select a customer",
      "pleaseSelectMeetingType": "Please select at least one meeting type",
      "pleaseSelectProducts": "Please select at least one product",
      "pleaseSelectVisitType": "Please select visit type",
      "pleaseCapturePhoto": "Please capture a photo",
      
      // Logout
      "logout": "Logout",
      "confirmLogout": "Are you sure you want to logout?",
      "profile": "Profile",
      
      // Salesman Home
      "welcome": "Welcome",
      "readyToMakeSales": "Ready to make sales today?",
      
      // Visit History
      "visitHistory": "Visit History",
      "noVisitsYet": "No visits yet. Create your first visit!",
      "notes": "Notes",
      "markCompleted": "Mark Completed",
      "markAsPending": "Mark as Pending",
      "markAsCompleted": "Mark as Completed",
      "markAsCancelled": "Mark as Cancelled",
      "cancelled": "Cancelled",
      
      // New Visit Form
      "typeToAutoFill": "Type to auto-fill from previous visits",
      "aiInsights": "AI Insights",
      "history": "History",
      "lastVisitDate": "Last",
      "daysAgo": "days ago",
      "suggestedProducts": "Suggested Products",
      "selectMeetingType": "Select at least one meeting type",
      "introduction": "Introduction",
      "enquiry": "Enquiry",
      "payment": "Payment",
      "selectProducts": "Select products discussed",
      "none": "None",
      "meeting": "Meeting",
      "sendSample": "Send Sample",
      "visitAgainWithManagement": "Visit Again with Management",
      "commercialWIP": "Commercial WIP",
      "closedOrder": "Closed Order",
      
      // Bilingual Fields
      "bilingualInput": "Bilingual Input",
      "english": "English",
      "arabic": "Arabic",
      "atLeastOneLanguageRequired": "At least one language is required",
      "pressTabToTranslate": "Press Tab to auto-translate to the other language",
      "currentlyWithCompetitor": "Currently with Competitor (if any)",
      "additionalNotes": "Additional notes or observations",
      "takePhoto": "Take Photo",
      "aiWillVerify": "AI will verify if image is genuine, not reused, or AI-generated",
      "imageVerified": "Image verified",
      "imageVerificationFailed": "Image verification failed!",
      "score": "Score",
      "removeAndRetake": "Remove & Retake",
      "enterOrderValue": "Enter Order Value",
      "orderValueRupees": "Order Value",
      "enterOrderValueHelper": "Enter the order value in rupees",
      "pleaseEnterValidOrderValue": "Please enter a valid order value",
      "refreshGPS": "Refresh GPS",
      "gps": "GPS",
      "visitPhoto": "Visit Photo",
      "loadPhoto": "Load Photo",
      "visitLocation": "Visit location",
      "clickImageToViewFullSize": "Click image to view full size",
      "visitDate": "Visit Date",
      "clientsVisitedBy": "Clients Visited by",
      "noClientsFound": "No clients found",
      "getting": "Getting...",
      "submitting": "Submitting...",
      "submitVisit": "Submit Visit",
      "viewClients": "View Clients",
      "startingMigration": "Starting migration...",
      "foundVisitsToMigrate": "Found {count} visits to migrate...",
      "processingVisit": "Processing {current} of {total}...",
      "migrationComplete": "Migration complete! Success: {success}, Failed: {failed}",
      "migrationFailed": "Migration failed. Please try again.",
      "noTenantSelected": "No tenant selected",
      "noDataToExport": "No data to export",
      "exportToExcel": "Export to Excel",
      "filterByCompany": "Filter by Company",
      "filterBySalesman": "Filter by Salesman",
      "allCompanies": "All Companies",
      "allSalesmen": "All Salesmen",
      "clearFilters": "Clear Filters",
      "confirmGpsToAddressConversion": "This will convert all GPS coordinates to actual addresses. This may take a few minutes. Continue?",
      
      // AI Insights Component
      "recommendedCustomersToVisit": "Recommended Customers to Visit",
      "noInsightsYet": "No insights available yet. Complete more visits to get personalized recommendations.",
      "greatJob": "Great job! All your customers have been visited recently.",
      "greatPerformance": "Great Performance!",
      "visitsCompletedToday": "You've completed {{count}} visits today. Keep up the excellent work!",
      "startYourDay": "Start Your Day",
      "noVisitsToday": "No visits recorded today. Check your recommended customers below.",
      "increaseActivity": "Increase Activity",
      "visitFrequencyBelowTarget": "Your visit frequency is below target. Aim for at least 2-3 visits per day.",
      "highSuccessRate": "High Success Rate",
      "excellentConversionRate": "{{rate}}% of your visits are successful. Excellent conversion rate!",
      "notVisitedInDays": "Not visited in over {{days}} days - follow-up recommended",
    }
  },
  ar: {
    translation: {
      // Auth & Login
      "login": "تسجيل الدخول",
      "phone": "الهاتف",
      "password": "رقم سري ",
      "phoneNumber": "رقم الهاتف",
      "enterPassword": "أدخل كلمة المرور",
      "enterPhone": "أدخل رقم الهاتف",
      "invalidCredentials": "بيانات اعتماد غير صالحة",
      "fieldSalesManagement": "نظام إدارة المبيعات الميدانية",
      "professionalFieldSales": "إدارة مبيعات ميدانية احترافية",
      "enterValidPhone": "يرجى إدخال رقم هاتف صالح مكون من 10 أرقام",
      "enterYourName": "يرجى إدخال اسمك",
      "register": "تسجيل",
      "dontHaveAccount": "ليس لديك حساب؟",
      "passwordMinLength": "يجب أن تكون كلمة المرور مكونة من 6 أحرف على الأقل",
      "phoneAlreadyRegistered": "رقم الهاتف هذا مسجل بالفعل",
      "registrationSuccessful": "تم التسجيل بنجاح! يمكنك الآن تسجيل الدخول.",
      "registrationFailed": "فشل التسجيل. يرجى المحاولة مرة أخرى.",
      "selectRole": "اختر الدور",
      "enterName": "أدخل الاسم",
      
      // Common
      "submit": "إرسال",
      "cancel": "إلغاء",
      "ok": "موافق",
      "save": "حفظ",
      "delete": "حذف",
      "confirmDelete": "هل أنت متأكد من أنك تريد حذف هذا؟",
      "confirmDeleteVisit": "هل أنت متأكد من أنك تريد حذف هذه الزيارة؟",
      "confirmDeleteProduct": "هل أنت متأكد من أنك تريد حذف هذا المنتج؟",
      "confirmDeleteSalesman": "هل أنت متأكد من أنك تريد حذف هذا البائع؟",
      "confirmDeleteCustomer": "هل أنت متأكد من أنك تريد حذف هذا العميل؟",
      "confirmDeleteTarget": "هل أنت متأكد من أنك تريد حذف هذا الهدف؟",
      "confirmDeletePlant": "هل أنت متأكد من أنك تريد حذف هذه الشركة؟",
      "deleteSuccess": "تم الحذف بنجاح",
      "deleteFailed": "فشل الحذف",
      "edit": "تعديل",
      "view": "عرض",
      "close": "إغلاق",
      "search": "بحث",
      "filter": "تصفية",
      "export": "تصدير",
      "refresh": "تحديث",
      "loadMore": "تحميل المزيد",
      "loading": "جار التحميل...",
      "noData": "لا توجد بيانات",
      "success": "نجح",
      "error": "خطأ",
      "yes": "نعم",
      "no": "لا",
      "actions": "الإجراءات",
      "date": "التاريخ",
      "completed": "مكتمل",
      "pending": "قيد الانتظار",
      "convertGpsToAddresses": "تحويل GPS إلى عناوين",
      "telephone": "هاتف",
      "personal": "شخصي",
      "all": "الكل",
      "today": "اليوم",
      "yesterday": "أمس",
      "thisWeek": "هذا الأسبوع",
      "thisMonth": "هذا الشهر",
      "lastMonth": "الشهر الماضي",
      "custom": "مخصص",
      "adminPortal": "بوابة الإدارة",
      "settings": "الإعدادات",
      "enableArabicTranslation": "تفعيل الترجمة العربية",
      "allowUsersToSwitchLanguage": "السماح للمستخدمين بالتبديل بين الإنجليزية والعربية. قم بتعطيل هذا للشركات التي تستخدم الإنجليزية فقط.",
      
      // Dashboard
      "dashboard": "لوحة التحكم",
      "welcomeBack": "مرحباً بعودتك",
      "totalVisitsCount": "إجمالي الزيارات",
      "orderValue": "قيمة الطلب",
      "visitsTab": "الزيارات",
      "orders": "الطلبات",
      "performance": "الأداء",
      "target": "الهدف",
      "achieved": "المحقق",
      "overallPerformance": "الأداء العام",
      "todaysVisits": "زيارات اليوم",
      "quickTips": "نصائح سريعة",
      "useNewVisitTab": "استخدم علامة التبويب \"زيارة جديدة\" لإنشاء الزيارات",
      "gpsAutoCaptured": "يتم التقاط موقع GPS تلقائياً",
      "checkHistory": "تحقق من \"السجل\" للزيارات السابقة",
      "name": "الاسم",
      "code": "الرمز",
      "price": "السعر",
      "stock": "المخزون",
      "role": "الدور",
      "admin": "مدير",
      "joined": "تاريخ الانضمام",
      "active": "نشط",
      "inactive": "غير نشط",
      "contactPerson": "شخص الاتصال",
      "totalOrders": "إجمالي الطلبات",
      "firstVisit": "أول زيارة",
      "salesPerformanceDashboard": "لوحة أداء المبيعات",
      "avgPerSalesman": "المتوسط لكل مندوب",
      "individualSalesmanPerformance": "أداء المندوبين الفردي",
      "hitRatio": "نسبة النجاح",
      "overall": "الإجمالي",
      "belowTarget": "أقل من الهدف",
      "excellent": "ممتاز",
      "good": "جيد",
      "avg": "متوسط",
      "loadingData": "جاري تحميل بيانات لوحة التحكم...",
      "dashboardReady": "لوحة التحكم جاهزة! أضف مندوبين وأنشئ زيارات لرؤية مقاييس الأداء هنا.",
      "addProduct": "إضافة منتج",
      "editProduct": "تعديل منتج",
      "addCustomer": "إضافة عميل",
      "editCustomer": "تعديل عميل",
      "addSalesman": "إضافة مندوب",
      "editSalesman": "تعديل مندوب",
      "month": "الشهر",
      "year": "السنة",
      "setTarget": "تحديد الهدف",
      "editTarget": "تعديل الهدف",
      "visitsPerMonth": "الزيارات شهرياً",
      "visitsPerDay": "الزيارات يومياً",
      "ordersPerMonth": "الطلبات شهرياً",
      "orderValuePerMonth": "قيمة الطلبات شهرياً",
      "newVisitsPerMonth": "الزيارات الجديدة شهرياً",
      "repeatVisitsPerMonth": "الزيارات المتكررة شهرياً",
      "selectSalesman": "اختر المندوب",
      "pleaseSelectSalesman": "الرجاء اختيار مندوب",
      "targetsSaved": "تم حفظ الأهداف بنجاح",
      "salesTargetsManagement": "إدارة أهداف المبيعات",
      "monthlyTarget": "الهدف الشهري",
      "targetAchieved": "الهدف المحقق",
      "remaining": "المتبقي",
      "areYouSure": "هل أنت متأكد من حذف هذا الهدف؟",
      "visitsTarget": "هدف الزيارات",
      "ordersTarget": "هدف الطلبات",
      "dailyTarget": "الهدف اليومي",
      "productTargets": "أهداف المنتجات",
      "targetQuantity": "الكمية المستهدفة",
      "addProductTarget": "إضافة هدف منتج",
      "removeProduct": "إزالة المنتج",
      "targetNotFound": "جدول الأهداف غير موجود في قاعدة البيانات",
      "runMigration": "الرجاء تشغيل ترحيل SQL لإنشاء جدول الأهداف",
      "reportsManagement": "إدارة التقارير",
      "generateReport": "إنشاء تقرير",
      "dateRange": "نطاق التاريخ",
      "exportReport": "تصدير التقرير",
      "totalVisits": "إجمالي الزيارات",
      "enquiries": "الاستفسارات",
      "followups": "المتابعات",
      "avgDay": "المعدل/يوم",
      "salesmanPerformance": "أداء المندوب",
      "dailyAvg": "المعدل اليومي",
      "topCustomers": "أفضل العملاء",
      "visitCount": "عدد الزيارات",
      "topProducts": "المنتجات الأكثر مناقشة",
      "discussionCount": "عدد المناقشات",
      "percentage": "النسبة المئوية",
      "productUpdated": "تم تحديث المنتج بنجاح",
      "productCreated": "تم إنشاء المنتج بنجاح",
      "customerUpdated": "تم تحديث العميل بنجاح",
      "customerCreated": "تم إنشاء العميل بنجاح",
      "salesmanUpdated": "تم تحديث المندوب بنجاح",
      "salesmanCreated": "تم إنشاء المندوب بنجاح",
      "deleteConfirm": "هل أنت متأكد من الحذف؟",
      "week": "أسبوع",
      "allTime": "كل الوقت",
      
      // Salesman
      "salesman": "مندوب المبيعات",
      "salesmen": "مندوبي المبيعات",
      "salesmenManagement": "إدارة مندوبي المبيعات",
      "salesmanName": "اسم المندوب",
      "salesmanDetails": "تفاصيل المندوب",
      
      // Customer
      "customer": "العميل",
      "customers": "العملاء",
      "customersManagement": "إدارة العملاء",
      "customerName": "اسم العميل",
      "email": "البريد الإلكتروني",
      "address": "العنوان",
      "customerTotalVisits": "إجمالي الزيارات",
      "lastVisit": "آخر زيارة",
      "lastMeeting": "آخر اجتماع",
      "status": "الحالة",
      
      // Company
      "plants": "الشركات",
      "plantsManagement": "إدارة الشركات",
      "plantCode": "رمز الشركة",
      "plantName": "اسم الشركة",
      "addPlant": "إضافة شركة",
      "editPlant": "تعديل الشركة",
      "addNewPlant": "إضافة شركة جديدة",
      
      // Visit
      "visit": "الزيارة",
      "visits": "الزيارات",
      "newVisit": "زيارة جديدة",
      "addVisit": "إضافة زيارة",
      "visitDetails": "تفاصيل الزيارة",
      "visitType": "نوع الزيارة",
      "new": "جديد",
      "followup": "متابعة",
      "delivery": "تسليم",
      "personalVisit": "زيارة شخصية",
      "telephoneVisit": "مكالمة هاتفية",
      "meetingType": "نوع الاجتماع",
      "demo": "عرض توضيحي",
      "order": "طلب",
      "generalVisit": "زيارة عامة",
      "complaint": "شكوى",
      "followUp": "متابعة",
      "productsDiscussed": "المنتجات المناقشة",
      "nextAction": "الإجراء التالي",
      "nextActionDate": "تاريخ الإجراء التالي",
      "potential": "الإمكانات",
      "high": "عالي",
      "medium": "متوسط",
      "low": "منخفض",
      "competitor": "المنافس",
      "competitorName": "اسم المنافس",
      "canBeSwitched": "يمكن التبديل",
      "remarks": "ملاحظات",
      "location": "الموقع",
      "timeIn": "وقت الدخول",
      "timeOut": "وقت الخروج",
      "capturePhoto": "التقاط صورة",
      "uploadPhoto": "تحميل صورة",
      "photoRequired": "الصورة مطلوبة",
      "visitImage": "صورة الزيارة",
      "imageVerification": "التحقق من الصورة",
      "verifying": "جارٍ التحقق من الصورة...",
      "verificationPassed": "تم التحقق بنجاح",
      "verificationFailed": "فشل التحقق",
      "duplicateDetected": "تم اكتشاف صورة مكررة أو مستخدمة",
      "lowResolution": "دقة الصورة منخفضة جداً",
      "suspiciousImage": "تم اكتشاف صورة مشبوهة",
      
      // Products
      "product": "المنتج",
      "products": "المنتجات",
      "productsManagement": "إدارة المنتجات",
      "productName": "اسم المنتج",
      "productCode": "رمز المنتج",
      "category": "الفئة",
      "description": "الوصف",
      
      // Reports
      "reports": "التقارير",
      "visitReport": "تقرير الزيارات",
      "performanceReport": "تقرير الأداء",
      "salesReport": "تقرير المبيعات",
      "startDate": "تاريخ البدء",
      "endDate": "تاريخ الانتهاء",
      
      // Targets
      "targets": "الأهداف",
      
      // مساعدات النموذج
      "selectAllThatApply": "(حدد كل ما ينطبق)",
      "selectAllDiscussed": "(حدد كل ما تم مناقشته)",
      "remarksNotes": "ملاحظات / تعليقات",
      "remarksPlaceholder": "أي ملاحظات إضافية حول هذه الزيارة...",
      "canBeSwitchedQuestion": "هل يمكن التبديل؟",
      "photoOfLocation": "صورة الموقع/المكتب",
      
      // Offline
      "offline": "غير متصل",
      "offlineMode": "وضع غير متصل",
      "syncPending": "في انتظار المزامنة",
      "syncNow": "مزامنة الآن",
      "syncing": "جارٍ المزامنة...",
      "syncComplete": "اكتملت المزامنة",
      
      // Messages
      "visitAddedSuccess": "تمت إضافة الزيارة بنجاح",
      "visitUpdateSuccess": "تم تحديث الزيارة بنجاح",
      "visitDeleteSuccess": "تم حذف الزيارة بنجاح",
      "customerAddedSuccess": "تمت إضافة العميل بنجاح",
      "errorAddingVisit": "خطأ في إضافة الزيارة",
      "errorLoadingData": "خطأ في تحميل البيانات",
      "pleaseSelectCustomer": "الرجاء اختيار عميل",
      "pleaseSelectMeetingType": "الرجاء اختيار نوع اجتماع واحد على الأقل",
      "pleaseSelectProducts": "الرجاء اختيار منتج واحد على الأقل",
      "pleaseSelectVisitType": "الرجاء اختيار نوع الزيارة",
      "pleaseCapturePhoto": "الرجاء التقاط صورة",
      
      // Logout
      "logout": "تسجيل خروج",
      "confirmLogout": "هل أنت متأكد من تسجيل الخروج؟",
      "profile": "الملف الشخصي",
      
      // Salesman Home
      "welcome": "مرحباً",
      "readyToMakeSales": "جاهز لإتمام المبيعات اليوم؟",
      
      // Visit History
      "visitHistory": "سجل الزيارات",
      "noVisitsYet": "لا توجد زيارات بعد. أنشئ زيارتك الأولى!",
      "notes": "ملاحظات",
      "markCompleted": "تم الإنتهاء",
      "markAsPending": "تعيين كقيد الانتظار",
      "markAsCompleted": "تعيين كمكتمل",
      "markAsCancelled": "تعيين كملغى",
      "cancelled": "ملغى",
      
      // New Visit Form
      "typeToAutoFill": "اكتب للملء التلقائي من الزيارات السابقة",
      "aiInsights": "رؤى الذكاء الاصطناعي",
      "history": "السجل",
      "lastVisitDate": "آخر",
      "daysAgo": "أيام مضت",
      "suggestedProducts": "المنتجات المقترحة",
      "selectMeetingType": "اختر نوع لقاء واحد على الأقل",
      "introduction": "تعريف",
      "enquiry": "استفسار",
      "payment": "دفع",
      "selectProducts": "اختر المنتجات المناقشة",
      "none": "لا شيء",
      "meeting": "اجتماع",
      "sendSample": "إرسال عينة",
      "visitAgainWithManagement": "زيارة مرة أخرى مع الإدارة",
      "commercialWIP": "العمل التجاري قيد التنفيذ",
      "closedOrder": "طلب مغلق",
      
      // Bilingual Fields
      "bilingualInput": "إدخال ثنائي اللغة",
      "english": "الإنجليزية",
      "arabic": "العربية",
      "atLeastOneLanguageRequired": "مطلوب لغة واحدة على الأقل",
      "pressTabToTranslate": "اضغط Tab للترجمة التلقائية إلى اللغة الأخرى",
      "currentlyWithCompetitor": "حالياً مع منافس (إن وجد)",
      "additionalNotes": "ملاحظات أو مشاهدات إضافية",
      "takePhoto": "التقط صورة",
      "aiWillVerify": "سيتحقق الذكاء الاصطناعي من أن الصورة أصلية، وليست معاد استخدامها، أو مولدة بالذكاء الاصطناعي",
      "imageVerified": "تم التحقق من الصورة",
      "imageVerificationFailed": "فشل التحقق من الصورة!",
      "score": "النتيجة",
      "removeAndRetake": "إزالة وإعادة الالتقاط",
      "enterOrderValue": "أدخل قيمة الطلب",
      "orderValueRupees": "قيمة الطلب",
      "enterOrderValueHelper": "أدخل قيمة الطلب بالروبية",
      "pleaseEnterValidOrderValue": "الرجاء إدخال قيمة طلب صحيحة",
      "refreshGPS": "تحديث GPS",
      "gps": "GPS",
      "visitPhoto": "صورة الزيارة",
      "loadPhoto": "تحميل الصورة",
      "visitLocation": "موقع الزيارة",
      "clickImageToViewFullSize": "انقر على الصورة لعرض الحجم الكامل",
      "visitDate": "تاريخ الزيارة",
      "clientsVisitedBy": "العملاء الذين زارهم",
      "noClientsFound": "لم يتم العثور على عملاء",
      "getting": "جاري الحصول...",
      "submitting": "جاري الإرسال...",
      "submitVisit": "إرسال الزيارة",
      "viewClients": "عرض العملاء",
      "startingMigration": "بدء الترحيل...",
      "foundVisitsToMigrate": "تم العثور على {count} زيارة للترحيل...",
      "processingVisit": "معالجة {current} من {total}...",
      "migrationComplete": "اكتمل الترحيل! نجح: {success}، فشل: {failed}",
      "migrationFailed": "فشل الترحيل. الرجاء المحاولة مرة أخرى.",
      "noTenantSelected": "لم يتم تحديد مستأجر",
      "noDataToExport": "لا توجد بيانات للتصدير",
      "exportToExcel": "تصدير إلى Excel",
      "filterByCompany": "تصفية حسب الشركة",
      "filterBySalesman": "تصفية حسب مندوب المبيعات",
      "allCompanies": "جميع الشركات",
      "allSalesmen": "جميع مندوبي المبيعات",
      "clearFilters": "مسح التصفية",
      "confirmGpsToAddressConversion": "سيتم تحويل جميع إحداثيات GPS إلى عناوين فعلية. قد يستغرق هذا بضع دقائق. هل تريد المتابعة؟",
      
      // AI Insights Component
      "recommendedCustomersToVisit": "العملاء الموصى بزيارتهم",
      "noInsightsYet": "لا توجد رؤى متاحة بعد. أكمل المزيد من الزيارات للحصول على توصيات مخصصة.",
      "greatJob": "عمل رائع! تمت زيارة جميع عملائك مؤخراً.",
      "greatPerformance": "أداء رائع!",
      "visitsCompletedToday": "لقد أكملت {{count}} زيارة اليوم. استمر في عملك الممتاز!",
      "startYourDay": "ابدأ يومك",
      "noVisitsToday": "لم يتم تسجيل زيارات اليوم. تحقق من العملاء الموصى بهم أدناه.",
      "increaseActivity": "زيادة النشاط",
      "visitFrequencyBelowTarget": "معدل زياراتك أقل من المستهدف. اهدف لـ 2-3 زيارات على الأقل يومياً.",
      "highSuccessRate": "معدل نجاح عالي",
      "excellentConversionRate": "{{rate}}% من زياراتك ناجحة. معدل تحويل ممتاز!",
      "notVisitedInDays": "لم تتم الزيارة منذ أكثر من {{days}} أيام - يوصى بالمتابعة",
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'ar', // Default to Arabic
    lng: localStorage.getItem('i18nextLng') || 'ar', // Explicitly set language from localStorage or default to Arabic
    supportedLngs: ['en', 'ar'],
    interpolation: {
      escapeValue: false
    },
    detection: {
      order: ['localStorage', 'querystring', 'navigator'],
      lookupLocalStorage: 'i18nextLng',
      caches: ['localStorage'],
      cookieMinutes: 10080 // 7 days
    }
  });

// Ensure the document direction is set on load
const currentLang = i18n.language || localStorage.getItem('i18nextLng') || 'ar';
document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
document.documentElement.lang = currentLang;

export default i18n;
